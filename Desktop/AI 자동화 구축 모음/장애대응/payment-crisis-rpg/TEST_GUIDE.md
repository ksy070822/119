# 결제 대란 RPG — 테스트 방법

## 1. 실행

### 개발 서버 (권장)
```bash
cd payment-crisis-rpg
npm run dev
```
브라우저에서 **http://localhost:5173** 접속 (Vite 기본 포트).

### 빌드 후 미리보기
```bash
npm run build
npm run preview
```
표시된 주소(예: http://localhost:4173)로 접속.

---

## 2. 플레이 흐름

1. **타이틀**  
   - "시작하기" 클릭 → 직업(캐릭터) 선택.

2. **게임 (Stage 1)**  
   - **이동**: `← → ↑ ↓` 또는 `W A S D`  
   - **대화**: NPC 근처에서 **Space** → "Space: [이름]와 대화" 힌트가 보이면 Space로 대화 시작.  
   - **대화 진행**: 클릭 또는 **Space**로 다음 문장.  
   - **선택지**: 대화 중에만 선택지 버튼 표시 → 클릭해서 선택.  
   - **체크포인트**: 일부 선택은 "결정 확인" 창 → "이대로 진행" / "다른 선택 검토".

3. **스테이지 전환**  
   - 현재 맵의 **필수 NPC 전원**과 대화 완료 시 자동으로 다음 스테이지(맵)로 전환.  
   - Stage 1 → 2 → 3 → 4 → 5 순서.

4. **엔딩**  
   - Stage 5까지 진행 후 → S/A/B/C 등급 + "다시 도전" 버튼.

---

## 3. 확인할 항목

| 항목 | 확인 방법 |
|------|-----------|
| 맵·카메라 | 이동 시 화면이 플레이어를 따라감, 맵 경계에서 멈춤 |
| NPC 힌트 | NPC 근처에서만 "Space: …와 대화" 표시 |
| 대화 | Space로 대화 시작 → 하단 대화창 + 타이핑 → Space/클릭으로 진행 |
| 선택지 | 대화 중에만 선택지 버튼 표시, 하단에 선택지 나열 패널 없음 |
| 리스크 | 선택 후 HUD의 "조직 혼란 / 대외 위험" 등급·바 변경 |
| 체크포인트 | 리스크 큰 선택 시 확인 창 → "다른 선택 검토" 시 선택지로 복귀 |
| 아이템 | 동료 NPC 대화 완료 시 "아이템 획득" + 좌측 아이템 슬롯 채워짐 |
| 스테이지 전환 | 필수 NPC 전원 대화 후 "Stage 2" 등 표시 후 다음 맵 로드 |
| 엔딩 | Stage 5 완료 후 등급·메시지 표시, "다시 도전"으로 타이틀 복귀 |

---

## 4. 빠른 체크 (Stage 1)

1. **시작** → 직업 선택  
2. **이동**으로 흰색 네모 NPC들에 접근  
3. **상황실**(왼쪽), **전파담당**(가운데), **테크커뮤니케이터**(오른쪽) 순으로 Space로 대화  
4. 각 대화에서 선택지 선택 → 응답 문구 + 리스크 변화 확인  
5. 세 NPC 모두 대화 완료 시 "Stage 2" 전환 여부 확인  

---

## 5. 문제 발생 시

- **맵이 안 보임**: `public/data/maps.json`, `public/data/dialogues.json` 존재 여부 확인.  
- **대화/선택지 안 나옴**: 브라우저 콘솔(F12)에서 네트워크·스크립트 에러 확인.  
- **포트 변경**: `npm run dev -- --port 3000` 처럼 `--port` 옵션 사용.
